<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record id="project_task_inherited_form" model="ir.ui.view">
            <field name="name">project.task.inherited.form</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_form2"/>
            <field name="arch" type="xml">
                <button name="action_assign_to_me" position='after'>
                    <button name="task_complete_request_to_approve"
                            string="Request To Approve"
                            type="object"
                            attrs="{'invisible': [('request_to_approve', '!=', False),'|',
                            ('stage_name', '=', 'In Progress'),
                            ]}"/>
                    <button name="task_complete_approved"
                            string="Approved"
                            type="object"
                            attrs="{'invisible': ['|','|',
                            ('request_to_approve', '!=', True),
                            ('request_approved', '=', True),
                            ('request_rejected', '=', True)]}"/>
                    <button name="task_complete_reject"
                            string="Rejected"
                            type="object"
                            attrs="{'invisible': ['|','|',
                            ('request_to_approve', '!=', True),
                            ('request_approved', '=', True),
                            ('request_rejected', '=', True)]}"/>
                </button>
                <button name="action_view_so" position="attributes">
                    <attribute name="string">Service Engagement</attribute>
                </button>
                <xpath expr="//field[@name='stage_id']" position="attributes">
                    <attribute name="clickable">0</attribute>
                </xpath>
                <field name="partner_id" position="after">
                    <field name="request_to_approve" invisible="0"/>
                    <field name="request_approved" invisible="0"/>
                    <field name="request_rejected" invisible="0"/>
                    <field name="stage_name" invisible="1"/>
                    <field name="priority" widget="priority"/>
<!--                    <field name="user_ids" widget="many2many_avatar_user"/>-->
                </field>
                <xpath expr="//div[@name='button_box']" position="after">
                    <widget name="web_ribbon" title="Waiting For Approve" bg_color="bg-warning"
                            attrs="{'invisible': [('request_to_approve', '!=', True)]}"/>
                    <widget name="web_ribbon" title="Approved" bg_color="bg-success"
                            attrs="{'invisible': [('request_approved', '=', False)]}"/>
                    <widget name="web_ribbon" title="Rejected" bg_color="bg-danger"
                            attrs="{'invisible': [('request_rejected', '=', False)]}"/>
                </xpath>
            </field>
        </record>

        <record id="my_import_wizard_form" model="ir.ui.view">
            <field name="name">my.import.wizard.form</field>
            <field name="model">my.import.wizard</field>
            <field name="arch" type="xml">
                <form string="Import a csv file">
                    <group name="main">
                        <field name="data_file" nolabel="1" filename="file_name"/>
                        <field name="file_name" invisible="1"/>
                    </group>

                    <footer>
                        <button name="import_csv" type="object"
                                string="Import" class="oe_highlight"/>
                        <button special="cancel" string="Cancel"/>
                    </footer>

                </form>
            </field>
        </record>

        <record id="my_import_wizard_action" model="ir.actions.act_window">
            <field name="name">Import a csv file</field>
            <field name="res_model">my.import.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
        </record>

        <menuitem id="import_wizard_menu"
                  parent="hr_attendance.menu_hr_attendance_manage_attendances"
                  action="my_import_wizard_action"
                  sequence="15"/>

        <!--        <template xml:space="preserve">-->
        <!--            <t t-extend="ListView.buttons">-->
        <!--                <t t-jquery="button.oe_list_add" t-operation="after">-->
        <!--                    &lt;!&ndash; Your button here &ndash;&gt;-->
        <!--                </t>-->
        <!--            </t>-->
        <!--        </template>-->
    </data>
</odoo>