<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="import_manual_attendance_sequence" model="ir.sequence">
        <field name="name">Import Manual Attendance</field>
        <field name="code">import.manual.attendance</field>
        <field name="prefix">Import/</field>
        <field name="padding">5</field>
        <field name="number_increment">1</field>
        <field name="implementation">standard</field>
    </record>

    <record id="view_import_manual_attendance_form" model="ir.ui.view">
        <field name="name">import.manual.attendance.form</field>
        <field name="model">import.manual.attendance</field>
        <field name="arch" type="xml">
            <form string="Import a csv file">
                <header>
<!--                    <button name="action_attendance_import" string="Import" class="btn btn-primary" type="object"/>-->
<!--                    <button name="attendance_import_validation" string="Validate" class="btn btn-primary" type="object"/>-->
<!--                    <button name="bulk_attendance_wizard" string="BUlk" class="btn btn-primary" type="object"/>-->
                    <button name="bulk_attendance_create" string="Generate Bulk Attendance" class="btn btn-primary" type="object"
                            attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <br/>
                    <div class="oe_title">
                        <h1 class="d-flex">
                            <field name="name" placeholder="Name" required="True" attrs="{'readonly': [('state', '=', 'created')]}"/>
                        </h1>
                        <h2>
                            <field name="reference" placeholder="Reference" readonly="1" required="True"/>
                        </h2>
                    </div>
                    <group>
                        <group>
                            <field name="responsible" readonly="1" required="True"/>
                            <field name="month_list" readonly="0" required="True" attrs="{'readonly': [('state', '=', 'created')]}"/>
                        </group>
                        <group>
                            <field name="date" readonly="1" required="True"/>
                            <field name="year_id" readonly="0" required="True" attrs="{'readonly': [('state', '=', 'created')]}"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Attendance" invisible="1">
                            <field name="import_ids" >
                                <tree editable="bottom">
                                    <field name="emp_code"/>
                                    <field name="employee_id" invisible="1" options='{"no_open": True, "no_create": True}'/>
                                    <field name="department_id" invisible="1"/>
                                    <field name="check_in"/>
                                    <field name="check_out"/>
                                    <field name="worked_hours"/>
                                    <field name="custom_state"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Bulk Attendance">
                            <field name="import_bulk_ids" attrs="{'readonly': [('state', '=', 'created')]}">
                                <tree editable="bottom" create="0">
                                    <field name="emp_code"/>
                                    <field name="total_days"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>


    <record id="view_import_manual_attendance_tree_view" model="ir.ui.view">
        <field name="name">import.manual.attendance.tree</field>
        <field name="model">import.manual.attendance</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="reference"/>
                <field name="responsible"/>
                <field name="date"/>
            </tree>
        </field>
    </record>

    <record id="Import_manual_attendance_action" model="ir.actions.act_window">
        <field name="name">Import Bulk Attendance</field>
        <field name="res_model">import.manual.attendance</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem action="Import_manual_attendance_action" name="Import Attendance" id="menu_import_attendance"
              parent="hr_attendance.menu_hr_attendance_manage_attendances" sequence="11"/>

</odoo>
